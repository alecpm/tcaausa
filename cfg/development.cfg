[buildout]
extends-cache = cache
extends = 
    base.cfg
    sources.cfg

parts +=
    test
    paster
    i18ndude
    omelette
    supervisor


[client1]
debug-mode = off
verbose-security = off
eggs +=
    plone.app.debugtoolbar
    plone.reload

[test]
recipe = zc.recipe.testrunner
eggs = 
    tcaa.policy
    tcaa.content
    tcaa.theme

defaults = ['--exit-with-status', '--auto-color', '--auto-progress']

[paster]
recipe = zc.recipe.egg
eggs = 
    PasteScript
    ZopeSkel==2.21.1
    zopeskel.dexterity

[i18ndude]
unzip = true
recipe = zc.recipe.egg
eggs = i18ndude

[omelette]
recipe = collective.recipe.omelette
eggs = ${client1:eggs}

[supervisor]
recipe = collective.recipe.supervisor
port = 127.0.0.1:9001
user = admin
password = admin
programs = 
    10 zeoserver ${buildout:directory}/parts/zeoserver/bin/runzeo true
    20 client1 ${buildout:directory}/bin/client1 [console] true
    20 client2 ${buildout:directory}/bin/client2 [console] true
